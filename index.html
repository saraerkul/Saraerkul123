<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Den Ultimate Film-Gjetteren</title>
    <style>
        :root {
            --primary: #ec4899;
            --secondary: #8b5cf6;
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f8fafc;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; margin: 0;
        }

        #app {
            background: var(--card);
            padding: 2.5rem;
            border-radius: 1.5rem;
            width: 95%; max-width: 550px;
            text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
        }

        .progress-bar {
            height: 8px; background: #334155;
            border-radius: 4px; margin-bottom: 2rem;
        }

        #progress {
            height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%; transition: width 0.4s ease;
        }

        .question-text { font-size: 1.5rem; min-height: 4.5rem; margin-bottom: 2rem; font-weight: 600; }

        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

        button {
            padding: 1rem; border: none; border-radius: 0.75rem;
            font-weight: bold; cursor: pointer; transition: all 0.2s;
            font-size: 1rem; color: white; background: #334155;
        }

        button:hover { transform: translateY(-2px); filter: brightness(1.2); }
        .btn-ja { background: #10b981; }
        .btn-nei { background: #ef4444; }
        .btn-start { background: var(--primary); grid-column: span 2; font-size: 1.2rem; }

        .top-guess { font-size: 0.8rem; color: #94a3b8; margin-top: 1rem; }
    </style>
</head>
<body>

<div id="app">
    <div id="stats">Spørsmål 1 / 30</div>
    <div class="progress-bar"><div id="progress"></div></div>
    
    <div id="game-container">
        <div class="question-text" id="question">Tenk på en film (Drama, Romanse eller andre storfilmer)...</div>
        <div class="btn-grid" id="controls">
            <button class="btn-start" onclick="startGame()">START SPILLET</button>
        </div>
        <div class="top-guess" id="hint"></div>
    </div>
</div>

<script>
    const movies = [
        // DRAMA & ROMANSE
        { name: "Titanic", traits: ["romanse", "drama", "historisk", "vann", "trist", "gammel", "rik", "skip"] },
        { name: "The Notebook", traits: ["romanse", "drama", "trist", "bok", "regn", "alderdom"] },
        { name: "Me Before You", traits: ["romanse", "drama", "trist", "sykdom", "rik", "rullestol"] },
        { name: "Pride and Prejudice", traits: ["romanse", "drama", "historisk", "britisk", "ball", "gamledager"] },
        { name: "La La Land", traits: ["romanse", "musikk", "drama", "dans", "moderne", "hollywood"] },
        { name: "A Star Is Born", traits: ["romanse", "drama", "musikk", "trist", "alkohol"] },
        { name: "The Fault in Our Stars", traits: ["romanse", "drama", "trist", "sykdom", "ungdom"] },
        { name: "Brokeback Mountain", traits: ["romanse", "drama", "trist", "fjell", "historisk"] },
        { name: "About Time", traits: ["romanse", "drama", "tidsreise", "britisk", "familie"] },
        { name: "Notting Hill", traits: ["romanse", "komedie", "britisk", "kjendis", "90tallet"] },
        { name: "Pretty Woman", traits: ["romanse", "komedie", "rik", "shopping", "90tallet"] },
        { name: "Eternal Sunshine", traits: ["romanse", "drama", "sci-fi", "glemsel", "vinter"] },
        { name: "The Great Gatsby", traits: ["drama", "romanse", "fest", "rik", "historisk"] },
        { name: "Call Me By Your Name", traits: ["romanse", "drama", "italia", "sommer"] },
        { name: "Atonement", traits: ["drama", "romanse", "krig", "trist", "historisk", "britisk"] },
        { name: "P.S. I Love You", traits: ["romanse", "drama", "trist", "brev", "irland"] },
        { name: "The Vow", traits: ["romanse", "drama", "ulykke", "glemsel"] },
        { name: "Dear John", traits: ["romanse", "drama", "krig", "brev", "trist"] },
        { name: "The Lucky One", traits: ["romanse", "drama", "krig", "hund"] },
        { name: "Before Sunrise", traits: ["romanse", "drama", "reise", "europa", "snakking"] },
        { name: "Little Women", traits: ["drama", "romanse", "historisk", "søstre", "bok"] },
        { name: "The Best of Me", traits: ["romanse", "drama", "trist", "ungdom", "hevn"] },
        { name: "Safe Haven", traits: ["romanse", "drama", "mysterium", "flukt"] },
        { name: "The Last Song", traits: ["romanse", "drama", "sommer", "strand", "musikk"] },
        { name: "500 Days of Summer", traits: ["romanse", "drama", "trist", "arkitektur"] },
        
        // ANDRE STORE FILMER
        { name: "Inception", traits: ["sci-fi", "action", "drøm", "komplisert", "moderne"] },
        { name: "The Dark Knight", traits: ["superhelt", "action", "krim", "mørk", "batman"] },
        { name: "Harry Potter", traits: ["fantasy", "magi", "skole", "britisk", "barn"] },
        { name: "Interstellar", traits: ["sci-fi", "verdensrommet", "drama", "trist", "tid"] },
        { name: "The Godfather", traits: ["drama", "krim", "mafia", "gamledager", "italiensk"] },
        { name: "Gladiator", traits: ["action", "drama", "historisk", "roma", "hevn"] },
        { name: "Schindler's List", traits: ["drama", "krig", "historisk", "trist", "svart-hvitt"] },
        { name: "The Matrix", traits: ["sci-fi", "action", "data", "fremtid"] },
        { name: "The Lion King", traits: ["animasjon", "barn", "musikk", "dyr", "trist"] },
        { name: "Toy Story", traits: ["animasjon", "barn", "leker", "komedie"] },
        { name: "Shrek", traits: ["animasjon", "barn", "komedie", "eventyr", "grønn"] }
    ];

    const questions = [
        { id: "romanse", text: "Er kjærlighet og romantikk hovedtemaet i filmen?" },
        { id: "drama", text: "Er det en utpreget dramafilm?" },
        { id: "trist", text: "Er filmen kjent for å være en tårevåt tragedie?" },
        { id: "historisk", text: "Foregår handlingen i fortiden (før år 2000)?" },
        { id: "sykdom", text: "Handler filmen om alvorlig sykdom eller død?" },
        { id: "bok", text: "Er filmen basert på en kjent roman?" },
        { id: "musikk", text: "Er sang eller musikk en veldig viktig del (f.eks. musikal)?" },
        { id: "rik", text: "Er hovedkarakteren (eller en av dem) svært velstående?" },
        { id: "britisk", text: "Er filmen satt i Storbritannia eller har veldig britiske karakterer?" },
        { id: "krig", text: "Spiller krig en sentral rolle i handlingen?" },
        { id: "gamledager", text: "Foregår handlingen i 'gamledager' med hest og kjerre eller ballkjoler?" },
        { id: "moderne", text: "Er filmen satt til moderne tid (etter år 2010)?" },
        { id: "vann", text: "Er havet, vann eller et skip viktig for filmen?" },
        { id: "animasjon", text: "Er det en animert film?" },
        { id: "sci-fi", text: "Er det romskip, roboter eller fremtidsteknologi?" },
        { id: "90tallet", text: "Er dette en klassiker fra 1990-tallet?" },
        { id: "sommer", text: "Føles det som en typisk sommer- eller strandfilm?" },
        { id: "vinter", text: "Er det mye snø eller foregår den i et kaldt klima?" },
        { id: "superhelt", text: "Inneholder filmen superhelter?" },
        { id: "krim", text: "Handler det om politi, krim eller mafia?" },
        { id: "overnaturlig", text: "Er det magi, spøkelser eller overnaturlige krefter?" },
        { id: "barn", text: "Er dette hovedsakelig en film for barn?" },
        { id: "reise", text: "Er karakterene på en fysisk reise gjennom flere steder?" },
        { id: "familie", text: "Er forholdet til familien viktigere enn romantikk?" },
        { id: "mørk", text: "Er filmen veldig mørk, dyster eller voldelig?" },
        { id: "hevn", text: "Er hovedkarakteren drevet av hevn?" },
        { id: "skole", text: "Foregår mye av handlingen på en skole eller universitet?" },
        { id: "italia", text: "Har filmen en sterk tilknytning til Italia?" },
        { id: "glemsel", text: "Handler filmen om å glemme eller miste minner?" },
        { id: "ulykke", text: "Starter dramaet med en alvorlig ulykke?" }
    ];

    let currentQ = 0;
    let movieScores = {};

    function startGame() {
        currentQ = 0;
        movieScores = {};
        movies.forEach(m => movieScores[m.name] = 0);
        showQuestion();
    }

    function showQuestion() {
        if (currentQ < questions.length) {
            document.getElementById("stats").innerText = `Spørsmål ${currentQ + 1} / ${questions.length}`;
            document.getElementById("question").innerText = questions[currentQ].text;
            document.getElementById("progress").style.width = (currentQ / questions.length * 100) + "%";
            
            document.getElementById("controls").innerHTML = `
                <button class="btn-ja" onclick="answer(2)">JA</button>
                <button class="btn-nei" onclick="answer(-2)">NEI</button>
                <button onclick="answer(1)">KANSKJE</button>
                <button onclick="answer(0)">VET IKKE</button>
            `;
            updateHint();
        } else {
            showResult();
        }
    }

    function answer(weight) {
        const trait = questions[currentQ].id;
        movies.forEach(m => {
            if (m.traits.includes(trait)) {
                movieScores[m.name] += weight;
            } else if (weight === 2) {
                movieScores[m.name] -= 1; // Straff hvis bruker sier JA men filmen mangler trekket
            }
        });
        currentQ++;
        showQuestion();
    }

    function updateHint() {
        let sorted = Object.keys(movieScores).sort((a, b) => movieScores[b] - movieScores[a]);
        document.getElementById("hint").innerText = `Nåværende mistanke: ${sorted[0]}`;
    }

    function showResult() {
        let winner = Object.keys(movieScores).reduce((a, b) => movieScores[a] > movieScores[b] ? a : b);
        document.getElementById("progress").style.width = "100%";
        document.getElementById("question").innerHTML = `Jeg gjetter: <br><span style="color:var(--primary); font-size:2.5rem;">${winner}</span>`;
        document.getElementById("controls").innerHTML = `<button class="btn-start" onclick="startGame()">SPILL IGJEN</button>`;
        document.getElementById("hint").innerText = "";
    }
</script>

</body>
</html>
